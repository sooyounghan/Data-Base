
-----
### 관계 연산자의 사용
-----
1. 1970년 이후 출생하고, 신장이 182 이상인 사람의 아이디와 이름 조회
```sql
SELECT userID, name
FROM userTbl
WHERE birthYear >= 1970 AND height >= 182;
```
  - AND 연산자 : '...하고 / 면서 / 그리고' 조건에 사용

2. 1970년 이후 출생했거나, 신장이 182 이상인 사람의 아이디와 이름 조회
```sql
SELECT userID, name
FROM userTbl
WHERE birthYear >= 1970 OR height >= 182;
```
  - OR 연산자 : '...했거나 / 또는' 조건에 사용

-----
### BETWEEN ~ AND와 IN() / LIKE
-----
1. 키가 180 ~ 183 인 사람 조회
```sql
SELECT name, height
FROM userTbl
WHERE height >= 180 AND height <= 183;
```

2. BETWEEN ~ AND 사용
```sql
SELECT name, height
FROM userTbl
WHERE height 180 AND 183;
```
  - 키와 같은 경우 숫자로 구성되어 있으므로 연속적인 값을 가지므로 BETWEEN ~ AND 사용 가능
  - '경남'이거나 '전남'이거나 '경북'인 사람을 찾을 경우 연속된 값이 아니므로 사용 불가

3. 지역이 '경남', '전남', '경북'인 사람의 정보
```sql
SELECT name, height
FROM userTbl
WHERE addr = '경남' OR addr = '전남' OR addr = '경북';
```

 4. 동일하게 연속적인 값이 아닌 이산적인 값을 위해 IN() 사용 가능
```sql
SELECT name, height
FROM userTbl
WHERE addr IN('경남', '전남', '경북');
```

5. 문자열의 내용을 검색하기 위해 LIKE 연산자 사용 가능
```sql
SELECT name, height
FROM userTbl
WHERE name LIKE '김%';
```
  - 위 조건은 성이 '김'씨이고, 그 뒤는 무엇이든(%) 허용한다는 의미
  - 즉, '김'이 제일 앞 글자인 것들을 추출
  - 한 글자와 매치하기 위해서는 '_' 사용
  - 예) 맨 앞 글자가 한 글자이고, 그 다음이 '종신'인 사람을 조회
```sql
SELECT name, height
FROM userTbl
WHERE name LIKE '_종신';
```

  - '%'와 '_'를 조합해서 사용 가능
  - 조건에 '_용%'라고 사용하면, 앞에 아무거나 한 글자가 오고, 두 번째 글자는 '용', 세 번째 이후에는 몇 글자든 아무거나 오는 값 추출
    + 예) '조용필', '사용한 사람' 등

6. 💡 %나 _가 검색할 문자열의 제일 앞에 들어가는 것은 MySQL 성능에 나쁜 영향을 줄 수 있음
   - 이는 인덱스가 있더라도, 인덱스를 사용하지 않고 전체 데이터를 검색하게 됨
   
-----
### ALL/SOME/ANY 그리고 서브쿼리(Sub-Query, 하위 쿼리)
-----
1. 서브쿼리(Sub-Query)
   - 쿼리문 안에 쿼리문이 들어있는 것

2. 예) 김경호보다 키가 크거나 같은 사람의 이름과 키를 출력
```sql
SELECT name, height
FROM userTbl
WHERE height >= 177;
```

3. 하지만 177이라는 키를 직접 써주는 것이 아니라 쿼리를 통해 가능
```sql
SELECT name, height
FROM userTbl
WHERE height >= (SELECT height
                FROM userTbl
                WHERE name = '김경호');
```
  - 후반부의 SELECT height FROM userTbl WHERE name = '김경호'는 177이라는 값을 반환하므로, 결국 177이라는 값과 동일한 결과

4. 예) 지역이 '경남'사람의 키보다 키가 같거나 같은 사람 추출
```sql
SELECT name, height
FROM userTbl
WHERE height >= (SELECT height
                 FROM userTbl
                 WHERE addr = '경남');
```
<div align="center">
<img src="https://github.com/sooyounghan/Data-Base/assets/34672301/4a4029fe-7135-4e66-a8ef-e4e7b6d381e2">
</div>

  - 논리적으로 틀린 것은 없어보이지만, 오류 메세지를 보면, 하위 쿼리가 둘 이상의 값을 반환
  - 즉, 173과 170이라는 두 개의 값을 반환하기 때문에 오류 발생

5. ANY 구문이 필요
```sql
SELECT name, height
FROM userTbl
WHERE height >= ANY(SELECT height
                    FROM userTbl
                    WHERE addr = '경남');
```
  - 예상한대로 키가 173보다 크거나 같은 사람 또는 키가 170보다 크거나 같은 사람이 모두 출력
  - 즉, 키가 170 보다 크거나 같은 사람이 해당

<div align="center">
<img src="https://github.com/sooyounghan/Data-Base/assets/34672301/d4ab3c51-d588-4f07-b989-b7e6197a7fd5">
</div>

6. 이번에 ANY를 ALL로 바꿔서 실행하면, 7명만 출력
   - 그 이유는 키가 170보다 크거나 같아야 할 뿐만 아니라, 173보다 같아야 하기 때문임
   - 즉, 키가 173보다 크거나 같은 사람만 해당
```sql
SELECT name, height
FROM userTbl
WHERE height >= ALL(SELECT height
                    FROM userTbl
                    WHERE addr = '경남');
```
<div align="center">
<img src="https://github.com/sooyounghan/Data-Base/assets/34672301/9cedc4c2-b978-4d6e-8baf-a7848ba5a828">
</div>

7. 💡 ANY : 서브 쿼리의 여러 개의 결과 중 '한 가지만' 만족해도 됨 (SOME은 ANY와 동일한 의미로 사용)
8. 💡 ALL : 서브 쿼리의 여러 개의 결과를 '모두' 만족시켜야 함

9. ```>= ANY``` 대신에 = ANY를 사용하면?
```sql
SELECT name, height
FROM userTbl
WHERE height = ANY(SELECT height
                    FROM userTbl
                    WHERE addr = '경남');
```
<div align="center">
<img src="https://github.com/sooyounghan/Data-Base/assets/34672301/bd5ed4c2-620a-4f66-a906-9a247864b138">
</div>

  - 정확히 ANY 다음의 서브쿼리 결과와 동일한 값인 173, 170에 해당하는 사람만 출력

  - 즉, 다음과 동일한 구문
```sql
SELECT name, height
FROM userTbl
WHERE height IN (SELECT height
                 FROM userTbl
                 WHERE addr = '경남');
```
  - 💡 즉, = ANY(서브쿼리)는 IN(서브쿼리)와 동일한 의미
